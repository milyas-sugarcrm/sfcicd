<apex:page Controller="TeamPhunSearchDetailsVFpageController">
  <apex:includeLightning />
  <script>
    var previousOnload = window.onload;
    window.onload = function () {
      if (previousOnload) {
        previousOnload();
      }
    };
  </script>
  <div
    style="
      padding-top: 10px;
      max-width: 100%;
      height: 100%;
      right: 0;
      left: 0;
      position: absolute;
      background: #f2f2f2;
      box-sizing: border-box;
      padding: 15px;
    "
  >
    <div
      style="
        padding-top: 5px;
        padding-left: 0.9375rem;
        padding-right: 0.9375rem;
        width: 97.5%;
        background: #fff;
        display: inline-block;
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        border-width: 1.5px;
        border-style: hidden;
      "
    >
      <h1
        style="
          color: mediumblue;
          line-height: 1.4;
          font-size: 1.3rem;
          font-weight: 400;
          margin-bottom: 0.5rem;
        "
      >
        {!Search.name}
      </h1>
      <br />
      <apex:outputPanel rendered="{!if(!Search.productCodeExist, false ,true)}">
        <p
          style="
            color: darkslategray;
            font-size: 1rem;
            line-height: 1.15rem;
            margin-bottom: 0.5rem;
          "
        >
          Product # : {!Search.ProductCode}
        </p>
      </apex:outputPanel>
      <apex:outputPanel rendered="{!if(!Search.commonSkuIdExist, false ,true)}">
        <p
          style="
            font-weight: bold;
            font-style: italic;
            font-size: 1rem;
            line-height: 1.15rem;
            margin-bottom: 0.5rem;
          "
        >
          {!Search.commonSkuId}
        </p>
      </apex:outputPanel>
      <div
        style="
          background: #fff;
          float: left;
          margin-top: 5px;
          margin-bottom: 15px !important;
          padding-right: 0;
          text-align: center;
          border-radius: 3px;
          border: 1px solid #f2f0f0;
          width: 25%;
        "
      >
        <apex:outputPanel rendered="{!if(!Search.imageExits, false ,true)}">
          <img style="width: 85%" src="{!Search.imageUrl}" />
        </apex:outputPanel>
        <apex:outputPanel rendered="{!if(!Search.imageExits, true ,false)}">
          <img style="width: 85%" src="{!$Resource.No_Image_Available}" />
        </apex:outputPanel>
      </div>

      <div style="padding-left: 20px; padding: 0; width: 74%; float: right">
        <p style="font-size: 1rem; line-height: 1.15rem; margin-bottom: 0.5rem">
          {!Search.description}
        </p>

        <label
          style="
            font-weight: bold;
            font-size: 1rem;
            line-height: 1.15rem;
            margin-bottom: 0.5rem;
          "
        >
          Price:
        </label>
        <label
          style="
            color: mediumblue;
            font-weight: bold;
            font-size: 1rem;
            line-height: 1.15rem;
            margin-bottom: 0.5rem;
          "
        >
          ${!Search.netPrice} - ${!Search.productCost}
        </label>
        <table style="width: 100%">
          <tbody>
            <tr style="background: lightgray">
              <td colspan="2"></td>
            </tr>
            <tr>
              <td style="width: 70%">
                <apex:outputPanel
                  rendered="{!if(!Search.productColorsExist, false ,true)}"
                >
                  <p
                    style="
                      color: #55656d;
                      font-size: 1rem;
                      line-height: 1.15rem;
                      margin-bottom: 0.5rem;
                    "
                  >
                    Colors
                  </p>

                  <label style="color: mediumblue; font-size: 1rem">
                    {!Search.productColor}
                  </label>
                </apex:outputPanel>
                <apex:outputPanel
                  rendered="{!if(!Search.productSizesExist, false ,true)}"
                >
                  <p
                    style="
                      color: #55656d;
                      font-size: 1rem;
                      line-height: 1.15rem;
                      margin-bottom: 0.5rem;
                    "
                  >
                    Sizes
                  </p>
                  <label style="font-size: 1rem"> {!Search.productSize} </label>
                </apex:outputPanel>
              </td>
              <td>
                <div
                  style="v-align: top; padding: 10px; background-color: #f4f4f4"
                >
                  <apex:outputPanel
                    rendered="{!if(!Search.productSupplierExist, false ,true)}"
                  >
                    <label
                      style="font-size: 1rem; color: darkblue; font-size: 14px"
                    >
                      {!Search.supplier} </label
                    ><br />
                  </apex:outputPanel>
                  <apex:outputPanel
                    rendered="{!if(!Search.productSupplierCodeExist, false ,true)}"
                  >
                    <a style="font-style: italic; pointer-events: none">
                      asi/{!Search.productSupplierCode}</a
                    >
                  </apex:outputPanel>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div
      style="
        padding-left: 0.9375rem;
        background: #fff;
        padding-right: 0.9375rem;
        width: 97.5%;
        background: #fbfbfb;
        display: inline-block;
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        border-width: 1.5px;
        border-style: hidden;
      "
    >
      <table style="width: 100%">
        <tbody>
          <apex:outputPanel rendered="{!if(!Search.pricingExist, false ,true)}">
            <tr style="background: lightgray">
              <td></td>
            </tr>
            <tr>
              <h1 style="font-size: 18px">Pricing</h1>
              <td>
                <table style="width: 100%">
                  <thead>
                    <tr>
                      <th>Quantity</th>
                      <th>Price</th>
                      <th>Cost</th>
                      <th>Profit</th>
                    </tr>
                  </thead>
                  <tbody>
                    <apex:repeat value="{!Search.prices}" var="price">
                      <tr>
                        <th style="font-weight: 500">{!price.quantity}</th>
                        <th style="font-weight: 500">${!price.price}</th>
                        <th style="font-weight: 500">${!price.cost}</th>
                        <th style="font-weight: 500">
                          <apex:outputText value="{0, number,$###,##0.##}">
                            <apex:param value="{!price.profit}" />
                          </apex:outputText>
                        </th>
                      </tr>
                    </apex:repeat>
                  </tbody>
                </table>
              </td>
            </tr>
          </apex:outputPanel>
        </tbody>
      </table>
    </div>
  </div>
</apex:page>
