<aura:component
  controller="OppLineItemNavController"
  implements="force:lightningQuickActionWithoutHeader,force:appHostable,lightning:actionOverride,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes"
  access="global"
>
  <aura:attribute name="workOrderId" type="Id" />
  <aura:attribute name="shippingId" type="Id" />
  <aura:attribute name="purchaseOrderId" type="Id" />
  <aura:attribute name="EnableSalesOrder" type="boolean" default="false" />
  <aura:attribute name="EnablePurchaseOrder" type="boolean" default="false" />
  <aura:attribute name="Spinner" type="boolean" default="false" />
  <aura:handler event="force:refreshView" action="{!c.doInit}" />
  <aura:handler event="c:RefreshWorkOrderTabs" action="{!c.doInit}" />

  <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
  <div class="slds-box slds-theme_default">
    <lightning:tabset aura:id="tabs" selectedTabId="two">
      <aura:if isTrue="{!$Label.c.Display_PO_So_Tabs == 'True'}">
        <aura:if isTrue="{!v.EnableSalesOrder}">
          <lightning:tab label="Sales Order" id="one">
            <c:SalesOrderOppLineItem
              salesOrderId="{!v.workOrderId}"
              opportunityId="{!v.recordId}"
            />
          </lightning:tab>
        </aura:if>

        <aura:if isTrue="{!v.EnableSalesOrder}">
          <lightning:tab label="Shipping" id="two">
            <c:ShippingOppLineItem recordId="{!v.shippingId}" />
          </lightning:tab>
        </aura:if>

        <aura:if isTrue="{!v.EnablePurchaseOrder}">
          <lightning:tab label="Purchase Order" id="three">
            <c:PurchaaseOrderOppLineItem recordId="{!v.workOrderId}" />
          </lightning:tab>
        </aura:if>
      </aura:if>
    </lightning:tabset>
  </div>
</aura:component>
